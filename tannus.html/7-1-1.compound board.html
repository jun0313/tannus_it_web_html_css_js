<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>원료 생산 일지 게시판</title>
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <style>
    body { background:black; color:white; font-family:Segoe UI, sans-serif; margin:0; padding:0; }
    header {
      background-color: black;
      color: white;
      padding: 1em;
      text-align: center;
      font-size: 3em;
      font-family: 'Anton', sans-serif;
      letter-spacing: 2px;
    }
    .menu {
      width: 98%;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      background-color: black;
      text-align: center;
      align-items: center;
      border: 3px solid red;
      border-radius: 5px;
    }
    .menu-item { position: relative; }
    .menu button {
      background-color: black;
      border: none;
      color: white;
      padding: 1em 0;
      cursor: pointer;
      font-size: 1em;
      font-weight: bold;
      width: 100%;
    }
    .menu button:hover { color: #ff3c57; }
    .submenu {
      display: none;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #000;
      box-shadow: 0 2px 10px rgba(255, 255, 255, 0.15);
      z-index: 100;
      width: 160px;
    }
    .submenu ul { list-style: none; margin: 0; padding: 0; }
    .submenu li {
      text-align: center;
      font-size: 1em;
      padding: 0.8em;
      border-bottom: 1px solid #222;
    }
    .submenu li a {
      color: #fff;
      text-decoration: none;
      display: block;
    }
    .submenu li a:hover { color: #ff3c57; }
    .menu-item:hover .submenu { display: block; }

    .board { width: 90%; margin: 3em auto; }
    .board-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1em;
    }
    .board-title { font-size: 1.5em; font-weight: bold; }
    .write-button {
      background-color: #ff3c57;
      border: none;
      color: white;
      padding: 0.5em 1em;
      font-size: 1em;
      border-radius: 5px;
      cursor: pointer;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #111;
    }
    th, td {
      padding: 1em;
      border-bottom: 1px solid #444;
      text-align: left;
    }
    th { background-color: #111; color: white; }
    a:link { color: white; }
    a:visited { color: #ff3c57; }
    .footer {
      text-align: center;
      font-size: 0.9em;
      color: #aaa;
      background-color: #1a1a1a;
      padding: 1em 0;
      margin-top: auto;
    }
    .pagination {
      text-align: center;
      margin-top: 20px;
    }
    .pagination button {
      margin: 0 5px;
      padding: 0.5em 1em;
      border: none;
      background-color: #444;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }
    .pagination button.active {
      background-color: #ff3c57;
    }
  </style>
</head>
<body>
  <header>Production Management System</header>
<nav class="menu">
    <!-- 메뉴 동일하게 유지 -->
    <div class="menu-item"><button>NoticeBoard</button><div class="submenu"><ul><li><a href="#">공지사항</a></li><li><a href="#">문의게시판</a></li></ul></div></div>
    <div class="menu-item"><button>Tire</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>Armour</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>Tubeless</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>Oofos</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>QuanFoam</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>Compound</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>TpuTube</button><div class="submenu"><ul><li><a href="#">생산 계획</a></li><li><a href="#">작업 지시서</a></li><li><a href="#">생산 일지</a></li><li><a href="#">생산 일보</a></li><li><a href="#">포장 일지</a></li><li><a href="#">포장 현황</a></li></ul></div></div>
    <div class="menu-item"><button>QC</button><div class="submenu"><ul><li><a href="#">Tire</a></li><li><a href="#">Armour</a></li><li><a href="#">Tubeless</a></li><li><a href="#">Oofos</a></li><li><a href="#">QuanFoam</a></li><li><a href="#">Compound</a></li><li><a href="#">Tpu</a></li></ul></div></div>
  </nav>

  <main class="board">
    <div class="board-header">
      <div class="board-title">원료 생산 일지</div>
      <a href="7-1-2.compound data.html"><button class="write-button">글쓰기</button></a>
    </div>
    <input type="date" id="searchDate" style="margin-bottom: 10px;">
    <button onclick="filterByDate()">날짜 검색</button>
    <form id="deleteForm">
      <table>
        <thead>
          <tr>
            <th><input type="checkbox" id="selectAll" onclick="toggleAll(this)"></th>
            <th>번호</th><th>제목</th><th>작성자</th><th>작성일</th>
          </tr>
        </thead>
        <tbody id="postListBody"></tbody>
      </table>
      <button type="button" onclick="deleteSelected()" class="write-button">선택 삭제</button>
    </form>
    <div class="pagination" id="pagination"></div>
  </main>

  <footer class="footer">
    <p style="margin: 0;">담당자 : 김준태 팀장 | 연락처 : 010-8790-0309 | email : jtkim@tannus.com</p>
  </footer>

  <script>
    const POSTS_PER_PAGE = 10;
    let currentPage = 1;
    let filteredPosts = [];

    function renderPosts(posts) {
      const tbody = document.getElementById('postListBody');
      const start = (currentPage - 1) * POSTS_PER_PAGE;
      const pagePosts = posts.slice(start, start + POSTS_PER_PAGE);

      tbody.innerHTML = '';
      pagePosts.forEach((post, index) => {
        tbody.innerHTML += `
          <tr>
            <td><input type="checkbox" value="${post.id}"></td>
            <td>${posts.length - (start + index)}</td>
            <td><a href="7-1-3.compound view.html?id=${post.id}">${post.title}</a></td>
            <td>${post.author}</td>
            <td>${post.date}</td>
          </tr>
        `;
      });
    }

    function renderPagination(posts) {
      const totalPages = Math.ceil(posts.length / POSTS_PER_PAGE);
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';

      for (let i = 1; i <= totalPages; i++) {
        pagination.innerHTML += `<button class="${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
      }
    }

    function goToPage(page) {
      currentPage = page;
      renderPosts(filteredPosts);
      renderPagination(filteredPosts);
    }

    function deleteSelected() {
      const checkboxes = document.querySelectorAll('#postListBody input[type="checkbox"]:checked');
      const idsToDelete = Array.from(checkboxes).map(cb => parseInt(cb.value));
      let posts = JSON.parse(localStorage.getItem('compoundPosts') || '[]');
      posts = posts.filter(post => !idsToDelete.includes(post.id));
      localStorage.setItem('compoundPosts', JSON.stringify(posts));
      loadPosts();
    }

    function toggleAll(master) {
      const checkboxes = document.querySelectorAll('#postListBody input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = master.checked);
    }

    function filterByDate() {
      const date = document.getElementById('searchDate').value;
      const allPosts = JSON.parse(localStorage.getItem('compoundPosts') || '[]');
      filteredPosts = date ? allPosts.filter(post => post.date === date) : allPosts;
      currentPage = 1;
      renderPosts(filteredPosts);
      renderPagination(filteredPosts);
    }

    function loadPosts() {
      filteredPosts = JSON.parse(localStorage.getItem('compoundPosts') || '[]');
      renderPosts(filteredPosts);
      renderPagination(filteredPosts);
    }

    document.addEventListener('DOMContentLoaded', loadPosts);
  </script>
</body>
</html>